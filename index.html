<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esdeveniments CERE</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <section class="seccion-azul">
        <div class="contenedor">
            <div class="columna">
                <h1 class="titulo">Esdeveniments del CERE</h1>
                <p>
                  En aquest espai es posa a disposició un recull d’informació sobre els diferents esdeveniments 
                  que l’entitat ha organitzat des de la seva fundació, l’any 1983. Al llarg de les dècades, l’activitat 
                  ha anat en augment, reflectint no només l’esforç i la dedicació de l’organització, sinó també 
                  la creixent implicació de la comunitat i l’interès del públic en els esdeveniments organitzats.
                </p>
                <p>
                  Al llarg dels anys, el nombre d’activitats ha anat variant, tot i que en general s’observa una 
                  tendència creixent en l’organització d’esdeveniments. Un moment especialment destacat d’aquesta 
                  trajectòria va ser l’any 2010, ja que es van arribar a superar per primer cop els cent esdeveniments 
                  en un sol any, testimoniant així la vitalitat i la capacitat organitzativa de l’associació.
                </p>
                <p>
                  Aquest registre històric permet entendre l’abast i la importància de la tasca desenvolupada, 
                  alhora que ofereix una visió global de com l’entitat ha anat evolucionant i adaptant-se a les 
                  necessitats i interessos del seu entorn al llarg del temps.
                </p>
            </div>
            <div class="columna imagen">
                <img src="img_CERE.jpg" alt="Imatge de l'Esdeveniment CERE">
            </div>
        </div>
    </section>

    <div class="content-container">
        <div class="stats-row">
            <div class="stat-card" id="total-events-card"><i class="fas fa-calendar-check"></i><h3>Esdeveniments</h3><div class="stat-value" id="total-events">0</div><div class="stat-label">Des del 1.983 fins a l'actualita</div></div>
            <div class="stat-card" id="municipalities-card"><i class="fas fa-map-marked-alt"></i><h3>Municipis</h3><div class="stat-value" id="total-municipalities">0</div><div class="stat-label">On el CERE ha col·laborat en la realització de esdeveniments</div></div>
            <div class="stat-card" id="promotors-card"><i class="fas fa-building"></i><h3>Entitats</h3><div class="stat-value" id="total-promotors">0</div><div class="stat-label">Amb les que el CERE ha col·laborat</div></div>
        </div>
        <br>

        <div class="toggle-box">
            <div class="toggle-title"><span><i class="fas fa-map-marked-alt"></i> Mapa d'esdeveniments</span><span class="toggle-icon"><i class="fas fa-plus"></i></span></div>
            <div class="toggle-content">
                <label for="promotorSelect">Filtra per President:</label>
                <select id="promotorSelect"><option value="Tots">Tots</option></select>
                <div id="map"></div>
            </div>
        </div>

        <div class="toggle-box">
            <div class="toggle-title"><span><i class="fas fa-chart-bar"></i> Nombre d'esdeveniments per any</span><span class="toggle-icon"><i class="fas fa-plus"></i></span></div>
            <div class="toggle-content"><canvas id="yearChart"></canvas></div>
        </div>

        <div class="toggle-box">
            <div class="toggle-title">
                <span><i class="fas fa-chart-line"></i> Evolució d'esdeveniments per mes</span>
                <span class="toggle-icon"><i class="fas fa-plus"></i></span>
            </div>
            <div class="toggle-content">
                <label for="yearSelect">Filtrar per any:</label>
                <select id="yearSelect">
                    <option value="all" selected>Tots els anys</option>
                </select>
                <small style="display:block; margin-top:4px; color:#666;">
                    * Només es mostren dades a partir del 2011 per garantir la seva qualitat.
                </small>
                <canvas id="monthChart"></canvas>
            </div>
        </div>
        
        <div class="toggle-box">
            <div class="toggle-title"><span><i class="fas fa-tags"></i> Tipus d'esdeveniments</span><span class="toggle-icon"><i class="fas fa-plus"></i></span></div>
            <div class="toggle-content">
                <label for="eventTypeYearSelect">Filtrar per any:</label>
                <select id="eventTypeYearSelect"><option value="all" selected>Tots els anys</option></select>
                <canvas id="eventTypeChart"></canvas>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
